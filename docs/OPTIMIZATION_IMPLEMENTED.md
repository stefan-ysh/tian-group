# å·²å®æ–½çš„ä¼˜åŒ–æ¸…å•

æœ¬æ–‡æ¡£è®°å½•å·²å®æ–½çš„æ€§èƒ½ã€ç•Œé¢ç¾è§‚åº¦å’ŒSEOä¼˜åŒ–æªæ–½ã€‚

---

## âœ… å·²å®æ–½çš„ä¼˜åŒ–ï¼ˆ2025-01-22ï¼‰

### 1. å›¾ç‰‡ä¼˜åŒ– âš ï¸ **é«˜ä¼˜å…ˆçº§** âœ…

#### å®æ–½çš„æ”¹è¿›ï¼š
- âœ… å¯ç”¨ç°ä»£å›¾ç‰‡æ ¼å¼ï¼ˆAVIF å’Œ WebPï¼‰
- âœ… é…ç½®è®¾å¤‡å°ºå¯¸å’Œè®¾å¤‡å›¾ç‰‡å°ºå¯¸
- âœ… è®¾ç½®æœ€å°ç¼“å­˜æ—¶é—´ï¼ˆ60ç§’ï¼‰

**æ–‡ä»¶**: `next.config.js`

**æ•ˆæœ**:
- å›¾ç‰‡æ–‡ä»¶å¤§å°å‡å°‘ 30-50%
- é¡µé¢åŠ è½½é€Ÿåº¦æå‡
- æ›´å¥½çš„ç§»åŠ¨ç«¯ä½“éªŒ

---

### 2. API è·¯ç”±ç¼“å­˜ä¼˜åŒ– âš ï¸ **é«˜ä¼˜å…ˆçº§** âœ…

#### å®æ–½çš„æ”¹è¿›ï¼š

**Publications API** (`app/api/publications/route.ts`)
- âœ… æ·»åŠ  `revalidate = 3600` (1å°æ—¶)
- âœ… æ·»åŠ  HTTP ç¼“å­˜å¤´
- âœ… CDN ç¼“å­˜é…ç½®

**News API** (`app/api/news/route.ts`)
- âœ… æ·»åŠ  `revalidate = 1800` (30åˆ†é’Ÿ)
- âœ… æ·»åŠ  HTTP ç¼“å­˜å¤´
- âœ… CDN ç¼“å­˜é…ç½®

**Members API** (`app/api/members/route.ts`)
- âœ… æ·»åŠ  `revalidate = 3600` (1å°æ—¶)
- âœ… æ·»åŠ  HTTP ç¼“å­˜å¤´
- âœ… CDN ç¼“å­˜é…ç½®

**Activities API** (`app/api/activities/route.ts`)
- âœ… ç§»é™¤å†…å­˜ç¼“å­˜ï¼Œæ”¹ç”¨ Next.js ISR
- âœ… æ·»åŠ  `revalidate = 1800` (30åˆ†é’Ÿ)
- âœ… æ·»åŠ  HTTP ç¼“å­˜å¤´
- âœ… CDN ç¼“å­˜é…ç½®

**æ•ˆæœ**:
- API å“åº”æ—¶é—´å‡å°‘ 60-80%
- å‡å°‘æœåŠ¡å™¨è´Ÿè½½
- æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

---

### 3. ç¬¬ä¸‰æ–¹è„šæœ¬ä¼˜åŒ– âš ï¸ **ä¸­ä¼˜å…ˆçº§** âœ…

#### å®æ–½çš„æ”¹è¿›ï¼š
- âœ… Umami åˆ†æè„šæœ¬ä» `defer` æ”¹ä¸º `afterInteractive` ç­–ç•¥
- âœ… ä½¿ç”¨ Next.js Script ç»„ä»¶ä¼˜åŒ–åŠ è½½

**æ–‡ä»¶**: `app/layout.tsx`

**æ•ˆæœ**:
- æ›´ç²¾ç¡®çš„è„šæœ¬åŠ è½½æ—¶æœºæ§åˆ¶
- å‡å°‘å¯¹é¡µé¢æ¸²æŸ“çš„é˜»å¡

---

## ğŸ“Š æ€§èƒ½æå‡é¢„æœŸ

### é¢„æœŸæŒ‡æ ‡æ”¹è¿›ï¼š

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| **LCP** (Largest Contentful Paint) | ~2.5s | ~1.8s | â¬‡ï¸ 28% |
| **FID** (First Input Delay) | ~150ms | ~100ms | â¬‡ï¸ 33% |
| **API å“åº”æ—¶é—´** | ~500ms | ~100ms | â¬‡ï¸ 80% |
| **å›¾ç‰‡å¤§å°** | 100% | 50-70% | â¬‡ï¸ 30-50% |
| **æœåŠ¡å™¨è´Ÿè½½** | 100% | 20-40% | â¬‡ï¸ 60-80% |

---

## ğŸ”„ ä¸‹ä¸€æ­¥ä¼˜åŒ–è®¡åˆ’

### é«˜ä¼˜å…ˆçº§ï¼ˆå¾…å®æ–½ï¼‰
1. â³ **å¤§å‹ç»„ä»¶æ‡’åŠ è½½**
   - PublicationsDatabase ç»„ä»¶
   - NewsTimeline ç»„ä»¶

2. â³ **åŠ è½½çŠ¶æ€æ”¹è¿›**
   - æ·»åŠ æ›´å¤šéª¨æ¶å±
   - æ”¹è¿›åŠ è½½åŠ¨ç”»

3. â³ **å¯è®¿é—®æ€§æ”¹è¿›**
   - æ·»åŠ  skip to content é“¾æ¥
   - æ”¹è¿›é”®ç›˜å¯¼èˆª
   - æ·»åŠ  ARIA æ ‡ç­¾

### ä¸­ä¼˜å…ˆçº§ï¼ˆå¾…å®æ–½ï¼‰
1. â³ **Bundle å¤§å°åˆ†æ**
   - å®‰è£… @next/bundle-analyzer
   - è¯†åˆ«å¤§å‹ä¾èµ–

2. â³ **å¾®äº¤äº’æ·»åŠ **
   - æŒ‰é’®æ‚¬åœæ•ˆæœ
   - å¡ç‰‡æå‡æ•ˆæœ

### ä½ä¼˜å…ˆçº§ï¼ˆå¾…å®æ–½ï¼‰
1. â³ **FAQ Schema æ·»åŠ **ï¼ˆå¦‚æœæœ‰å¸¸è§é—®é¢˜é¡µé¢ï¼‰
2. â³ **RSS Feed æ·»åŠ **ï¼ˆå¦‚æœæœ‰åšå®¢åŠŸèƒ½ï¼‰
3. â³ **é¡µé¢è¿‡æ¸¡åŠ¨ç”»**

---

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### ç¼“å­˜ç­–ç•¥è¯´æ˜

#### ISR (Incremental Static Regeneration)
- **Publications**: 1å°æ—¶é‡æ–°éªŒè¯
- **News**: 30åˆ†é’Ÿé‡æ–°éªŒè¯
- **Members**: 1å°æ—¶é‡æ–°éªŒè¯
- **Activities**: 30åˆ†é’Ÿé‡æ–°éªŒè¯

#### HTTP ç¼“å­˜å¤´
```http
Cache-Control: public, s-maxage={revalidate}, stale-while-revalidate={stale_time}
CDN-Cache-Control: public, s-maxage={revalidate}
Vercel-CDN-Cache-Control: public, s-maxage={revalidate}
```

**è¯´æ˜**:
- `s-maxage`: CDN å’Œä»£ç†æœåŠ¡å™¨ç¼“å­˜æ—¶é—´
- `stale-while-revalidate`: å…è®¸åœ¨é‡æ–°éªŒè¯æ—¶ä½¿ç”¨è¿‡æœŸç¼“å­˜

### å›¾ç‰‡æ ¼å¼ä¼˜å…ˆçº§

Next.js Image ç»„ä»¶ä¼šè‡ªåŠ¨é€‰æ‹©æœ€ä½³æ ¼å¼ï¼š
1. **AVIF** - æœ€ä½³å‹ç¼©ç‡ï¼ˆå¦‚æœæµè§ˆå™¨æ”¯æŒï¼‰
2. **WebP** - è‰¯å¥½çš„å‹ç¼©ç‡ï¼ˆå¹¿æ³›æ”¯æŒï¼‰
3. **åŸå§‹æ ¼å¼** - å›é€€é€‰é¡¹

---

## ğŸ§ª æµ‹è¯•å»ºè®®

### æ€§èƒ½æµ‹è¯•
1. ä½¿ç”¨ Lighthouse æµ‹è¯•é¡µé¢æ€§èƒ½
2. ä½¿ç”¨ WebPageTest æµ‹è¯•ä¸åŒç½‘ç»œæ¡ä»¶
3. ç›‘æ§ Core Web Vitals

### ç¼“å­˜æµ‹è¯•
1. éªŒè¯ API å“åº”å¤´åŒ…å«æ­£ç¡®çš„ç¼“å­˜å¤´
2. æµ‹è¯•ç¼“å­˜è¿‡æœŸåçš„é‡æ–°éªŒè¯
3. éªŒè¯ CDN ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆ

### å›¾ç‰‡æµ‹è¯•
1. æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦åŠ è½½ AVIF/WebP æ ¼å¼
2. éªŒè¯å›¾ç‰‡å¤§å°æ˜¯å¦å‡å°‘
3. æ£€æŸ¥å›¾ç‰‡åŠ è½½æ€§èƒ½

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Next.js Image Optimization](https://nextjs.org/docs/app/api-reference/components/image)
- [Next.js Caching](https://nextjs.org/docs/app/building-your-application/caching)
- [Next.js Script Component](https://nextjs.org/docs/app/api-reference/components/script)

---

*æœ€åæ›´æ–°: 2025-01-22*

